/*
  ==================================================================
  ===      SIDELINE CHIANGMAI - MASTER SOURCE STYLESHEET         ===
  ===       Build this file once for a complete website.         ===
  ==================================================================
*/

/* --- 1. Tailwind Core Layers --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 2. Base Layer: Global Styles, Fonts, Animations & CSS Variables --- */
@layer base {
  /* --- Keyframe Animations --- */
  @keyframes aurora-1 {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
  }
  @keyframes aurora-2 {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(-360deg); }
  }
  @keyframes shimmer {
    100% { transform: translateX(100%); }
  }

  /* --- CSS Variables for Theming --- */
  :root {
    --background: 220 20% 98%;
    --foreground: 220 15% 25%;
    --card: 0 0% 100%;
    --primary: 340 85% 58%;
    --primary-glow: 340 85% 65%;
    --secondary: 260 85% 65%;
    --secondary-glow: 260 85% 70%;
    --muted: 220 25% 94%;
    --muted-foreground: 220 10% 45%;
    --border: 220 20% 92%;
    --accent: 220 60% 96%;
    --overlay-backdrop: 225 15% 10% / 0.6;
  }

  html.dark {
    --background: 225 15% 10%;
    --foreground: 220 20% 90%;
    --card: 225 15% 16%;
    --primary: 340 90% 68%;
    --primary-glow: 340 95% 72%;
    --secondary: 260 90% 75%;
    --secondary-glow: 260 95% 80%;
    --muted: 225 15% 20%;
    --border: 225 12% 25%;
    --accent: 225 15% 20%;
    --overlay-backdrop: 225 15% 10% / 0.8;
  }

  /* --- Global Body & Typography Styles --- */
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    @apply font-prompt antialiased relative overflow-x-hidden;
  }
  
  /* Text Glow Effects */
  .text-primary, h1.text-primary { text-shadow: 0 0 15px hsl(var(--primary-glow) / 0.6), 0 0 3px hsl(var(--primary-glow) / 0.8); }
  .text-secondary, h1 .text-secondary { text-shadow: 0 0 15px hsl(var(--secondary-glow) / 0.5), 0 0 3px hsl(var(--secondary-glow) / 0.7); }

  /* --- High-Tech Animated Background --- */
  body::before, body::after {
    content: '';
    @apply fixed top-1/2 left-1/2 w-[150vmax] h-[150vmax] rounded-full -z-10 blur-[150px] opacity-15;
  }
  html:not(.dark) body::before {
    background: radial-gradient(circle, hsl(var(--primary)) 0%, transparent 40%);
    animation: aurora-1 30s linear infinite;
  }
  html:not(.dark) body::after {
    background: radial-gradient(circle, hsl(var(--secondary)) 0%, transparent 40%);
    animation: aurora-2 40s linear infinite reverse;
  }
  html.dark body::before {
    @apply opacity-20;
    background: radial-gradient(circle, hsl(var(--primary-glow)) 0%, transparent 40%);
    animation: aurora-1 30s linear infinite;
  }
  html.dark body::after {
    @apply opacity-15;
    background: radial-gradient(circle, hsl(var(--secondary-glow)) 0%, transparent 40%);
    animation: aurora-2 40s linear infinite reverse;
  }
}

/* --- 3. Components Layer: All Reusable Element Styles --- */
@layer components {

  /* --- Header & Navigation --- */
  #page-header {
    @apply fixed top-0 left-0 w-full z-40 border-b border-transparent;
    transition: background-color .3s, border-color .3s, box-shadow .3s;
  }
  #page-header.scrolled {
    @apply bg-card/80 border-border shadow-lg backdrop-blur-sm dark:bg-background/80;
  }
  nav a.active-nav-link { @apply text-primary font-semibold; }

  /* --- Sidebar for Mobile --- */
  #sidebar.open nav a { @apply opacity-100 translate-x-0; }
  #sidebar nav a { 
    @apply opacity-0 translate-x-[15px] rounded-lg transition-all duration-300 ease-in-out; 
  }
  #sidebar nav a:hover { @apply text-primary bg-accent; }
  #sidebar nav a.active-nav-link, #sidebar nav a:active { 
    @apply text-primary bg-accent font-bold; 
  }
  #sidebar nav a.active-nav-link .text-muted-foreground { @apply text-primary; }
  
  /* --- Modals (General) --- */
  .overlay-backdrop { @apply bg-[--overlay-backdrop] backdrop-blur-sm; }
  .modal-content { @apply bg-card rounded-2xl shadow-2xl; }
  .btn-close-premium { @apply w-10 h-10 flex items-center justify-center rounded-full bg-background/50 text-foreground/70 transition-colors hover:bg-muted hover:text-foreground; }

  /* --- Age Verification Modal --- */
  #age-verification-overlay { @apply overlay-backdrop; }
  .age-modal-content { @apply max-w-lg w-full p-6 sm:p-8 text-center bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white border border-gray-700 shadow-2xl rounded-2xl; }
  .age-badge-inline { @apply inline-block bg-red-600 text-white text-base font-bold px-3 py-1 rounded-md align-middle mx-1; }
  .age-btn { @apply w-full rounded-full py-3 text-base font-bold transition-transform duration-200 hover:scale-105; }
  .age-btn-confirm { @apply bg-primary text-white; }
  .age-btn-cancel { @apply bg-gray-600 text-gray-200 hover:bg-gray-700; }

  /* --- Content Sections & Wrappers --- */
  .section-header-card { @apply text-center p-8; }
  .section-content-wrapper { @apply bg-card rounded-2xl shadow-sm border border-border; }

  /* --- Profile Cards & Skeleton Loader --- */
  .profile-card-new { @apply relative overflow-hidden rounded-xl bg-card shadow-md transition-transform duration-300 ease-in-out hover:shadow-lg hover:scale-105; }
  .card-image { @apply w-full h-full object-cover aspect-[3/4] transition-transform duration-500 ease-in-out group-hover:scale-110; }
  .card-overlay { @apply absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent flex flex-col justify-end p-4 text-white; }
  .card-info { @apply transition-transform duration-300 ease-out group-hover:-translate-y-1; }
  .skeleton-card { @apply relative w-full aspect-[3/4] rounded-xl bg-muted overflow-hidden; }
  .skeleton-card::after { 
    content: '';
    @apply absolute top-0 right-0 bottom-0 left-0 translate-x-[-100%] animate-[shimmer_2s_infinite];
    background-image: linear-gradient(90deg, transparent, hsla(0,0%,100%,0.05), transparent);
  }
  html:not(.dark) .skeleton-card::after {
    background-image: linear-gradient(90deg, transparent, hsla(0,0%,0%,0.04), transparent);
  }

  /* --- Lightbox --- */
  .hero-image-container { @apply w-full aspect-square overflow-hidden rounded-lg bg-muted; }
  .thumbnail-strip { @apply flex gap-2 mt-3; }
  .thumbnail { @apply w-16 h-16 rounded-md object-cover cursor-pointer border-2 border-transparent transition hover:border-primary/70 opacity-60; }
  .thumbnail.active { @apply border-primary opacity-100; }
  #lightboxDetailsCompact { @apply space-y-4 pt-5 border-t border-border; }
  .availability-badge { @apply font-semibold px-4 py-1.5 rounded-full text-center text-sm; }
  .stats-grid { @apply grid grid-cols-3 gap-3 bg-accent p-3 rounded-lg; }
  .stat-item { @apply text-center; }
  .stat-item .label { @apply text-xs text-muted-foreground mb-0.5; }
  .stat-item .value { @apply font-bold text-sm text-foreground; }
  .detail-list-item { @apply flex items-center gap-3 py-1; }
  .detail-list-item-icon { @apply text-primary/80; }
  .detail-list-item .value { @apply font-medium text-sm text-foreground; }

  /* --- Buttons & Links --- */
  .btn-line-shared { @apply w-full flex items-center justify-center gap-3 py-3 px-5 rounded-full bg-green-500 text-white font-semibold transition hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-offset-2 focus:ring-offset-card; }
  .retry-btn { @apply mt-4 px-6 py-2 bg-primary text-white font-semibold rounded-full hover:bg-primary/90 transition; }
  
  /* --- Error States --- */
  .error-state { @apply flex flex-col items-center justify-center gap-4; }
  .error-icon { @apply w-16 h-16 text-red-500/50; }
  .error-title { @apply text-xl font-bold text-foreground; }
  .error-description { @apply text-base text-muted-foreground; }
}