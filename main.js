import{createClient as e}from"https://esm.sh/@supabase/supabase-js@2.39.8";import{gsap as t}from"https://cdn.jsdelivr.net/npm/gsap@3.12.5/+esm";import{ScrollTrigger as n}from"https://cdn.jsdelivr.net/npm/gsap@3.12.5/ScrollTrigger/+esm";import i from"https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.mjs";t.registerPlugin(n),function(){const a={SUPABASE_URL:"https://hgzbgpbmymoiwjpaypvl.supabase.co",SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnemJncGJteW1vaXdqcGF5cHZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcxMDUyMDYsImV4cCI6MjA2MjY4MTIwNn0.dIzyENU-kpVD97WyhJVZF9owDVotbl1wcYgPTt9JL_8",STORAGE_BUCKET:"profile-images",KEYS:{LAST_PROVINCE:"sidelinecm_last_province",CACHE_PROFILES:"cachedProfiles",LAST_FETCH:"lastFetchTime",AGE_CONFIRMED:"ageConfirmedTimestamp",THEME:"theme",LIKED_PROFILES:"liked_profiles"},SITE_URL:"https://sidelinechiangmai.netlify.app",DEFAULT_OG_IMAGE:"/images/sidelinechiangmai-social-preview.webp"};const o={styles:["‡∏ü‡∏¥‡∏ß‡πÅ‡∏ü‡∏ô‡πÅ‡∏ó‡πâ‡πÜ","‡∏á‡∏≤‡∏ô‡∏•‡∏∞‡πÄ‡∏°‡∏µ‡∏¢‡∏î","‡∏™‡∏≤‡∏¢‡∏´‡∏ß‡∏≤‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏î‡∏µ","‡∏Ñ‡∏∏‡∏¢‡∏™‡∏ô‡∏∏‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á","‡∏á‡∏≤‡∏ô‡πÄ‡∏ô‡∏µ‡πä‡∏¢‡∏ö‡∏ï‡∏£‡∏á‡∏õ‡∏Å"],trust:["‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏°‡∏±‡∏î‡∏à‡∏≥","‡∏ô‡∏±‡∏î‡πÄ‡∏à‡∏≠‡∏à‡πà‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô","‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô","‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏à‡∏≠‡∏ï‡∏±‡∏ß"],guarantees:["‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏ï‡∏£‡∏á‡∏£‡∏π‡∏õ 100%","‡∏£‡∏π‡∏õ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô","‡πÑ‡∏°‡πà‡∏à‡∏Å‡∏ï‡∏≤","‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢"],pick:function(e){return this[e][Math.floor(Math.random()*this[e].length)]}};let r={allProfiles:[],provincesMap:new Map,currentProfileSlug:null,lastFocusedElement:null,isFetching:!1,lastFetchedAt:"1970-01-01T00:00:00Z",realtimeSubscription:null,cleanupFunctions:[]};const l={};let s,c;function d(){try{return(new Date).toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(e){return"08/01/2569"}}function p(e){console.error("‚ùå Error:",e),T(),l.profilesDisplayArea&&l.profilesDisplayArea.classList.add("hidden"),l.featuredSection&&l.featuredSection.classList.add("hidden"),l.fetchErrorMessage&&(l.fetchErrorMessage.classList.remove("hidden"),l.fetchErrorMessage.style.display="block");const t=document.getElementById("load-more-container");t&&t.classList.add("hidden")}function u(e,t){if(!t||0===t.length)return e;const n=new Map;return e.forEach((e=>{e&&e.id&&n.set(e.id.toString(),e)})),t.forEach((e=>{e&&e.id&&n.set(e.id.toString(),e)})),Array.from(n.values())}function m(e){if(!e)return null;const t=function(e){if(!e||"string"!=typeof e)return"";let t=e.trim().replace(/^(‡∏ô‡πâ‡∏≠‡∏á\s?)/,"");return t=t.toLowerCase(),t=t.charAt(0).toUpperCase()+t.slice(1),`‡∏ô‡πâ‡∏≠‡∏á${t}`}(e.name);let n=[e.imagePath,...Array.isArray(e.galleryPaths)?e.galleryPaths:[]].filter(Boolean).map((e=>{const{data:t}=s.storage.from(a.STORAGE_BUCKET).getPublicUrl(e);return{src:t?.publicUrl||a.DEFAULT_OG_IMAGE}}));0===n.length&&n.push({src:a.DEFAULT_OG_IMAGE});const i=o.pick("styles"),l=o.pick("trust"),c=o.pick("guarantees"),d=r.provincesMap.get(e.provinceKey)||"‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",p=e.stats?`‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô ${e.stats}`:"",u=e.location?`‡∏û‡∏¥‡∏Å‡∏±‡∏î ${e.location}`:"",m=`‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á${t} ‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${d} ${i} ${c} ${l} ${p} ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏á ‡∏ï‡∏£‡∏á‡∏õ‡∏Å`,g=`${t} (${d}) - ${i} ${c} [‡∏Ñ‡∏•‡∏¥‡∏Å‡∏î‡∏π‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏°]`;return{...e,displayName:t,images:n,altText:m,imgTitle:g,provinceNameThai:d,searchString:`${t} ${d} ${e.provinceKey} ${e.description||""} ${e.rate||""} ${e.stats||""} ${u} ${i} ${l}`.toLowerCase(),_price:Number(String(e.rate).replace(/\D/g,""))||0,_age:Number(e.age)||0}}function g(){if(!l.provinceSelect)return;for(;l.provinceSelect.options.length>1;)l.provinceSelect.remove(1);const e=Array.from(r.provincesMap.entries()).sort(((e,t)=>e[1].localeCompare(t[1],"th"))),t=document.createDocumentFragment();e.forEach((([e,n])=>{const i=document.createElement("option");i.value=e,i.textContent=n,t.appendChild(i)})),l.provinceSelect.appendChild(t)}async function h(e=!1){let n=window.location.pathname.toLowerCase();n.length>1&&n.endsWith("/")&&(n=n.slice(0,-1));if(n.endsWith(".html")||n.endsWith(".htm")||["/blog","/about","/faq","/profiles","/locations","/contact","/policy"].some((e=>n===e||n.startsWith(e+"/"))))return console.log(`üõë Static page detected (${n}). Skipping dynamic logic.`),x(!1),l.profilesDisplayArea&&l.profilesDisplayArea.classList.add("hidden"),void(l.featuredSection&&l.featuredSection.classList.add("hidden"));const i=n.match(/^\/(?:sideline|profile|app)\/([^/]+)/);if(i){const n=decodeURIComponent(i[1]);r.currentProfileSlug=n;let o=r.allProfiles.find((e=>(e.slug||"").toLowerCase()===n.toLowerCase()));return o||e||(o=await async function(e){if(!s)return null;try{const{data:t,error:n}=await s.from("profiles").select("*, provinces(key, nameThai)").eq("slug",e).maybeSingle();return n||!t?(console.error("Error fetching single profile:",n),null):(t.provinces&&t.provinces.key&&t.provinces.nameThai&&(r.provincesMap.has(t.provinces.key)||r.provincesMap.set(t.provinces.key.toString(),t.provinces.nameThai)),m(t))}catch(e){return console.error("Catch Error in fetchSingleProfile:",e),null}}(n)),void(o?(!function(e){if(!l.lightbox)return;(function(e){if(!e)return console.error("populateLightboxData called with invalid profile data."),void x();const t={name:document.getElementById("lightbox-profile-name-main"),hero:document.getElementById("lightboxHeroImage"),thumbs:document.getElementById("lightboxThumbnailStrip"),quote:document.getElementById("lightboxQuote"),tags:document.getElementById("lightboxTags"),avail:document.getElementById("lightbox-availability-badge-wrapper"),detailsContainer:document.getElementById("lightboxDetailsCompact"),descContainer:document.getElementById("lightboxDescriptionContainer"),descContent:document.getElementById("lightboxDescriptionContent"),lineBtnContainer:document.querySelector(".lightbox-details")};t.name&&(t.name.textContent=e.name||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠");if(t.quote){const n=e.quote&&""!==e.quote.trim();t.quote.textContent=n?`"${e.quote}"`:"",t.quote.style.display=n?"block":"none"}if(t.avail){let n="status-inquire",i='<i class="fas fa-question-circle"></i>';e.availability?.toLowerCase().includes("‡∏ß‡πà‡∏≤‡∏á")||e.availability?.toLowerCase().includes("‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô")?(n="status-available",i='<i class="fas fa-check-circle"></i>'):e.availability?.toLowerCase().includes("‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á")&&(n="status-busy",i='<i class="fas fa-times-circle"></i>'),t.avail.innerHTML=`<div class="lb-status-badge ${n}">${i} ${e.availability||"‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°"}</div>`}t.hero&&(t.hero.src=e.images?.[0]?.src||"/images/placeholder-profile.webp",t.hero.alt=e.altText||`‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå ${e.name}`);if(t.thumbs){t.thumbs.innerHTML="";if(e.images&&e.images.length>1){const n=document.createDocumentFragment();e.images.forEach(((i,a)=>{const o=document.createElement("img");o.className="thumbnail "+(0===a?"active":""),o.src=i.src,o.alt=`‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ${a+1} ‡∏Ç‡∏≠‡∏á ${e.name}`,o.loading="lazy",o.onclick=()=>{t.hero&&(t.hero.src=i.src),t.thumbs.querySelector(".active")?.classList.remove("active"),o.classList.add("active")},n.appendChild(o)})),t.thumbs.appendChild(n),t.thumbs.style.display="grid"}else t.thumbs.style.display="none"}if(t.tags){t.tags.innerHTML="";Array.isArray(e.styleTags)&&e.styleTags.length>0&&""!==e.styleTags[0]?(e.styleTags.forEach((e=>{if(e&&""!==e.trim()){const n=document.createElement("span");n.className="tag-badge",n.textContent=e.trim(),t.tags.appendChild(n)}})),t.tags.style.display="flex"):t.tags.style.display="none"}if(t.detailsContainer){const n=[r.provincesMap.get(e.provinceKey)||"",e.location?`(${e.location})`:""].filter(Boolean).join(" ").trim(),i=(e.lastUpdated||e.created_at,d());let a="";a+=`\n            <div class="stats-grid-container">\n                ${e.age?`<div class="stat-box"><span class="stat-label">‡∏≠‡∏≤‡∏¢‡∏∏</span><span class="stat-value">${e.age} ‡∏õ‡∏µ</span></div>`:""}\n                ${e.stats?`<div class="stat-box"><span class="stat-label">‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô</span><span class="stat-value">${e.stats}</span></div>`:""}\n                ${e.height||e.weight?`<div class="stat-box"><span class="stat-label">‡∏™‡∏π‡∏á/‡∏´‡∏ô‡∏±‡∏Å</span><span class="stat-value">${e.height||"-"}/${e.weight||"-"}</span></div>`:""}\n            </div>`,a+='<div class="info-list-container mt-5 pt-5 border-t border-gray-200 dark:border-gray-700">';[{label:"‡∏™‡∏µ‡∏ú‡∏¥‡∏ß",value:e.skinTone,icon:"fa-palette"},{label:"‡∏û‡∏¥‡∏Å‡∏±‡∏î",value:n,icon:"fa-map-marker-alt",class:"text-primary"},{label:"‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤",value:e.rate,icon:"fa-tag",class:"text-green-600 dark:text-green-400"},{label:"‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î",value:i,icon:"fa-camera"}].forEach((e=>{e.value&&(a+=`\n                    <div class="info-row">\n                        <div class="info-label"><i class="fas ${e.icon} info-icon"></i> ${e.label}</div>\n                        <div class="info-value ${e.class||""}">${e.value}</div>\n                    </div>`)})),a+="</div>",t.detailsContainer.innerHTML=a}if(t.descContainer&&t.descContent){e.description&&""!==e.description.trim()?(t.descContent.innerHTML=e.description.replace(/\n/g,"<br>"),t.descContainer.style.display="block"):t.descContainer.style.display="none"}const n=document.getElementById("line-btn-sticky-wrapper");n&&n.remove();if(e.lineId&&t.lineBtnContainer){const n=document.createElement("div");n.id="line-btn-sticky-wrapper",n.className="lb-sticky-footer";const i=`${a.SITE_URL}/sideline/${e.slug}`,o=`‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏™‡∏ô‡πÉ‡∏à‡∏ô‡πâ‡∏≠‡∏á ${e.name} ‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö Sideline Chiangmai ‡∏Ñ‡∏£‡∏±‡∏ö\n${i}`;let r=e.lineId;e.lineId.startsWith("http")||(r=`https://line.me/ti/p/~${e.lineId}`);const l=document.createElement("a");l.className="btn-line-action",l.href="#",l.innerHTML=`<i class="fab fa-line text-xl"></i> ‡πÅ‡∏≠‡∏î‡πÑ‡∏•‡∏ô‡πå ${e.name||""}`,l.onclick=e=>{e.preventDefault(),navigator.clipboard&&navigator.clipboard.writeText(o).catch(console.error);const t=document.createElement("div");t.style.cssText="position: fixed; inset: 0; z-index: 10000; background: rgba(0,0,0,0.85); display: flex; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(4px); animation: fadeIn 0.2s ease-out;",t.innerHTML=`\n                <div style="background: white; width: 100%; max-width: 340px; border-radius: 24px; padding: 30px 24px; text-align: center; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.3);">\n                    \n                    \x3c!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏ñ‡∏π‡∏Å --\x3e\n                    <div style="width: 70px; height: 70px; background: #d1fae5; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; box-shadow: 0 0 0 8px rgba(209, 250, 229, 0.3);">\n                        <i class="fas fa-check" style="font-size: 32px; color: #059669;"></i>\n                    </div>\n\n                    <h3 style="font-size: 22px; font-weight: 800; color: #111827; margin-bottom: 10px; line-height: 1.3;">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß!</h3>\n                    \n                    <p style="color: #4b5563; font-size: 15px; line-height: 1.6; margin-bottom: 24px;">\n                        ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö<br>\n                        ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏õ LINE ‡πÄ‡∏õ‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤<br>\n                        <span style="background: #fdf2f8; padding: 4px 12px; border-radius: 6px; font-weight: bold; color: #db2777; display: inline-block; margin-top: 4px; border: 1px solid #fbcfe8;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î "‡∏ß‡∏≤‡∏á" (Paste) ‡πÉ‡∏ô‡πÅ‡∏ä‡∏ó</span>\n                    </p>\n\n                    \x3c!-- ‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏õ LINE --\x3e\n                    <a href="${r}" id="go-to-line-btn" style="display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; padding: 16px; background: #06c755; color: white; font-weight: bold; border-radius: 14px; text-decoration: none; font-size: 16px; box-shadow: 0 4px 15px rgba(6, 199, 85, 0.4); transition: transform 0.1s;">\n                        <i class="fab fa-line" style="font-size: 24px;"></i> ‡πÄ‡∏õ‡∏¥‡∏î LINE ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ\n                    </a>\n\n                    \x3c!-- ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î --\x3e\n                    <button id="close-modal-btn" style="margin-top: 16px; background: transparent; border: none; color: #9ca3af; font-size: 14px; cursor: pointer; padding: 8px;">\n                        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å\n                    </button>\n                </div>\n            `,document.body.appendChild(t);const n=t.querySelector("#close-modal-btn"),i=t.querySelector("#go-to-line-btn"),a=()=>{t.style.opacity="0",setTimeout((()=>t.remove()),200)};n.onclick=a,t.onclick=e=>{e.target===t&&a()},i.onclick=()=>{setTimeout(a,500)}},n.appendChild(l),t.lineBtnContainer.appendChild(n)}})(e),l.lightbox.classList.remove("hidden"),t.set(l.lightbox,{opacity:0}),t.to(l.lightbox,{opacity:1,duration:.3,pointerEvents:"auto"}),t.to(l.lightboxWrapper,{scale:1,opacity:1,duration:.3,ease:"back.out(1.2)"}),document.body.style.overflow="hidden"}(o),E(o,null),l.profilesDisplayArea?.classList.add("hidden"),l.featuredSection?.classList.add("hidden")):e&&(history.replaceState(null,"","/"),x(!1),l.profilesDisplayArea?.classList.remove("hidden"),r.currentProfileSlug=null))}const o=n.match(/^\/(?:location|province)\/([^/]+)/);if(o){const t=decodeURIComponent(o[1]);if(r.currentProfileSlug=null,x(!1),l.provinceSelect&&(l.provinceSelect.value=t),e){f(!1);const e=r.provincesMap.get(t)||t;E(null,{title:`‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${e} - ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô${e} (‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô Sideline Chiangmai)`,description:`‡∏£‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÜ ‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå ${e} ‡∏Ñ‡∏±‡∏î‡∏Ñ‡∏ô‡∏™‡∏ß‡∏¢ ‡∏ï‡∏£‡∏á‡∏õ‡∏Å 100% ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô Sideline Chiangmai ‡∏™‡∏≤‡∏Ç‡∏≤${e}.`,canonicalUrl:`${a.SITE_URL}/location/${t}`,provinceName:e,profiles:r.allProfiles.filter((e=>e.provinceKey===t))}),l.profilesDisplayArea?.classList.remove("hidden")}}else r.currentProfileSlug=null,x(!1),l.profilesDisplayArea?.classList.remove("hidden"),e&&(f(!1),E(null,null))}function f(e=!1){let t={text:l.searchInput?.value?.trim()||"",province:l.provinceSelect?.value||"",avail:l.availabilitySelect?.value||"",featured:"true"===l.featuredSelect?.value};if(t.text)for(let[e,n]of r.provincesMap.entries())if(n===t.text||n.includes(t.text)||t.text.includes(n)){t.province=e,t.text="";break}t.province&&"all"!==t.province&&localStorage.setItem(a.KEYS.LAST_PROVINCE,t.province);let n=r.allProfiles;if(t.text)if(c){n=c.search(t.text).map((e=>e.item))}else{const e=t.text.toLowerCase();n=n.filter((t=>t.searchString.includes(e)))}n=n.filter((e=>{const n=!t.province||"all"===t.province||e.provinceKey===t.province,i=!t.avail||"all"===t.avail||""===t.avail||e.availability===t.avail,a=!t.featured||e.isfeatured;return n&&i&&a})),l.resultCount&&(l.resultCount.innerHTML=n.length>0?`‚úÖ ‡∏û‡∏ö ${n.length} ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå`:"‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•",l.resultCount.style.display="block");if(b(n,!!l.searchInput?.value||!!t.province),e){const e=new URLSearchParams;t.text&&e.set("q",t.text);const n=t.province&&"all"!==t.province?`/location/${t.province}`:"/",i=e.toString()?"?"+e.toString():"";window.location.pathname.includes("/sideline/")||history.pushState({},"",n+i)}}function y(e){const t=e.reduce(((e,t)=>{const n=t.provinceKey||"no_province";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),n=Object.keys(t).sort(((e,t)=>{const n=r.provincesMap.get(e)||e,i=r.provincesMap.get(t)||t;return n.localeCompare(i,"th")})),i=document.createDocumentFragment();0===n.length?l.noResultsMessage?.classList.remove("hidden"):n.forEach((e=>{const n=r.provincesMap.get(e)||("no_province"===e?"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î":e);i.appendChild(function(e,t,n){const i=document.createElement("div");i.className="section-content-wrapper province-section mt-12",i.id=`province-${e}`,i.setAttribute("data-animate-on-scroll",""),i.innerHTML=`\n            <div class="p-6 md:p-8">\n                <a href="/location/${e}" class="group block">\n                    <h2 class="province-section-header flex items-center gap-2.5 text-2xl font-bold text-gray-800 dark:text-gray-200 group-hover:text-pink-600 transition-colors">\n                        üìç ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ${t}\n                        <span class="ml-2 bg-pink-100 text-pink-700 text-xs font-medium px-2.5 py-0.5 rounded-full">${n.length}</span>\n                        <i class="fas fa-chevron-right text-sm opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0"></i>\n                    </h2>\n                </a>\n            </div>\n            <div class="profile-grid grid grid-cols-2 gap-3 sm:gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 px-6 md:px-8 pb-8"></div>\n        `;const a=i.querySelector(".profile-grid"),o=document.createDocumentFragment();return n.forEach((e=>o.appendChild(v(e)))),a.appendChild(o),i}(e,n,t[e]))})),l.profilesDisplayArea.appendChild(i)}function b(e,t){if(!l.profilesDisplayArea)return;if(l.profilesDisplayArea.innerHTML="",l.featuredSection){const e=!t&&!window.location.pathname.includes("/location/");if(l.featuredSection.classList.toggle("hidden",!e),e&&l.featuredContainer&&r.allProfiles.length>0&&0===l.featuredContainer.children.length){const e=r.allProfiles.filter((e=>e.isfeatured)),t=document.createDocumentFragment();e.forEach(((e,n)=>t.appendChild(v(e,n)))),l.featuredContainer.appendChild(t)}}if(0===e.length)return void l.noResultsMessage?.classList.remove("hidden");l.noResultsMessage?.classList.add("hidden");const i=window.location.pathname.includes("/location/")||window.location.pathname.includes("/province/");t||i?l.profilesDisplayArea.appendChild(function(e){let t="‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤";const n=l.provinceSelect?.value||localStorage.getItem(a.KEYS.LAST_PROVINCE),i=window.location.pathname.match(/\/(?:location|province)\/([^/]+)/);let o=i?i[1]:n;if(o&&r.provincesMap.has(o)&&"all"!==o){t=`üìç ‡∏ô‡πâ‡∏≠‡∏á‡πÜ ‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span class="text-pink-600">${r.provincesMap.get(o)}</span>`}else t=l.searchInput?.value?`üîç ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "${l.searchInput.value}"`:"‚ú® ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î";const s=document.createElement("div");s.className="section-content-wrapper animate-fade-in-up",s.innerHTML=`\n          <div class="px-4 sm:px-6 pt-8 pb-4">\n            <div class="flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 dark:border-gray-700 pb-4">\n                <div>\n                    <h3 class="text-2xl md:text-3xl font-extrabold text-gray-800 dark:text-white leading-tight">\n                        ${t}\n                    </h3>\n                </div>\n                <div class="flex-shrink-0">\n                    <span class="inline-flex items-center px-4 py-2 rounded-lg bg-pink-50 dark:bg-pink-900/30 text-pink-700 dark:text-pink-300 font-bold text-sm border border-pink-100 dark:border-pink-800">\n                        ‡∏û‡∏ö ${e.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\n                    </span>\n                </div>\n            </div>\n          </div>\n          <div class="profile-grid grid grid-cols-2 gap-4 sm:gap-5 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 px-4 sm:px-6 pb-12"></div>\n        `;const c=s.querySelector(".profile-grid"),d=document.createDocumentFragment();return e.forEach(((e,t)=>d.appendChild(v(e,t)))),c.appendChild(d),s}(e)):y(e),window.ScrollTrigger&&n.refresh(),function(){const e=document.querySelectorAll("[data-animate-on-scroll]:not(.is-visible)");if(!e.length)return;const t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))}))}),{threshold:.1});e.forEach((e=>t.observe(e)))}()}function v(e,t=20){const n=document.createElement("div");n.className="profile-card-new-container";const i=document.createElement("div");i.className="profile-card-new group relative overflow-hidden rounded-2xl shadow-lg bg-gray-200 dark:bg-gray-800 cursor-pointer transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-1",i.setAttribute("data-profile-id",e.id),i.setAttribute("data-profile-slug",e.slug);const a=e.images&&e.images.length>0?e.images[0].src:"/images/placeholder-profile.webp";i.innerHTML=`\n        \x3c!-- LAYER 0: Skeleton Loader (‡∏ï‡∏±‡∏ß‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏ö‡∏ß‡∏±‡∏ö ‡∏£‡∏≠‡∏£‡∏π‡∏õ‡∏°‡∏≤) --\x3e\n        <div class="skeleton-loader absolute inset-0 bg-gray-300 dark:bg-gray-700 animate-pulse z-0"></div>\n\n        \x3c!-- LAYER 1: ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏≠‡∏¢‡∏π‡πà‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î) --\x3e\n<img src="${a}" \n             alt="‡∏ô‡πâ‡∏≠‡∏á${e.name} - ‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${e.provinceNameThai||"‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà"} ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏á ‡∏ü‡∏¥‡∏ß‡πÅ‡∏ü‡∏ô ‡∏ï‡∏£‡∏á‡∏õ‡∏Å 100%"\n             class="card-image w-full h-full object-cover transition-opacity duration-700 opacity-0 absolute inset-0 z-0"\n             loading="${t<4?"eager":"lazy"}"\n             style="object-position: center top;"\n             onload="this.classList.remove('opacity-0'); if(this.previousElementSibling) this.previousElementSibling.remove();"\n             onerror="this.src='/images/placeholder-profile.webp'; this.classList.remove('opacity-0'); if(this.previousElementSibling) this.previousElementSibling.remove();">\n             \n\n        \x3c!-- LAYER 2: ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ñ‡∏•‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πå‡∏î (Z-10) -> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå --\x3e\n        <a href="/sideline/${e.slug}" class="card-link absolute inset-0 z-10" aria-label="‡∏î‡∏π‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå ${e.name}"></a>\n    `;let o="status-inquire";const r=(e.availability||"").toLowerCase();r.includes("‡∏ß‡πà‡∏≤‡∏á")||r.includes("‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô")?o="status-available":(r.includes("‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á")||r.includes("‡∏û‡∏±‡∏Å"))&&(o="status-busy");const l=`\n        <div class="absolute top-2 right-2 flex flex-col gap-1 items-end z-20 pointer-events-none">\n            <span class="availability-badge ${o} shadow-md backdrop-blur-md bg-white/10 border border-white/20 text-[10px] font-bold px-2 py-1 rounded-full text-white">\n                ${e.availability||"‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°"}\n            </span>\n            ${e.isfeatured?'<span class="featured-badge bg-yellow-400 text-black text-[10px] font-bold px-2 py-1 rounded-full shadow-sm"><i class="fas fa-star mr-1"></i>‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</span>':""}\n        </div>\n    `,s=JSON.parse(localStorage.getItem("liked_profiles")||"{}")[e.id]?"liked":"",c=e.likes||0,p=`\n        <div class="card-overlay absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent p-3 flex flex-col justify-between" \n             style="z-index: 20; pointer-events: none;">\n            \n            <div class="card-header mt-8">\n                \x3c!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏∞‡∏•‡∏∏ --\x3e\n            </div>\n            \n            <div class="card-footer-content">\n                <h3 class="text-lg font-bold text-white drop-shadow-md leading-tight truncate pr-2">${e.name}</h3>\n                <p class="text-xs text-gray-300 flex items-center mt-0.5 mb-2">\n                    <i class="fas fa-map-marker-alt mr-1 text-pink-500"></i> ${e.provinceNameThai||"‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà"}\n                </p>\n\n                <div class="flex justify-between items-end border-t border-white/10 pt-2">\n                    <div class="date-stamp text-[10px] text-gray-400">\n                        ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï: ${d(e.created_at)}\n                    </div>\n                    \n                    \x3c!-- ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏±‡∏ß‡πÉ‡∏à (Z-30) ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡πÑ‡∏î‡πâ --\x3e\n                    <div class="like-button-wrapper relative flex items-center gap-1.5 text-white cursor-pointer group/like ${s} hover:text-pink-400 transition-colors"\n                         style="pointer-events: auto !important; z-index: 30 !important;"\n                         data-action="like" \n                         data-id="${e.id}"\n                         aria-label="‡∏ñ‡∏π‡∏Å‡πÉ‡∏à">\n                        <i class="fas fa-heart text-lg transition-transform duration-200 group-hover/like:scale-110"></i>\n                        <span class="like-count text-sm font-bold">${c}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;return i.insertAdjacentHTML("beforeend",l),i.insertAdjacentHTML("beforeend",p),n.appendChild(i),n}function x(e=!0){l.lightbox&&!l.lightbox.classList.contains("hidden")&&(e?(t.to(l.lightbox,{opacity:0,pointerEvents:"none",duration:.2}),t.to(l.lightboxWrapper,{scale:.95,opacity:0,duration:.2,onComplete:()=>{l.lightbox.classList.add("hidden"),document.body.style.overflow="",r.lastFocusedElement?.focus()}})):(l.lightbox.classList.add("hidden"),l.lightbox.style.opacity="0",document.body.style.overflow=""))}document.addEventListener("DOMContentLoaded",(async function(){console.log("üöÄ App Initializing..."),function(){try{s=e(a.SUPABASE_URL,a.SUPABASE_KEY),window.supabase=s,console.log("‚úÖ Supabase Connected")}catch(e){console.error("‚ùå Supabase Init Failed:",e)}}(),l.body=document.body,l.pageHeader=document.getElementById("page-header"),l.loadingPlaceholder=document.getElementById("loading-profiles-placeholder"),l.profilesDisplayArea=document.getElementById("profiles-display-area"),l.noResultsMessage=document.getElementById("no-results-message"),l.fetchErrorMessage=document.getElementById("fetch-error-message"),l.retryFetchBtn=document.getElementById("retry-fetch-btn"),l.searchForm=document.getElementById("search-form"),l.searchInput=document.getElementById("search-keyword"),l.provinceSelect=document.getElementById("search-province"),l.availabilitySelect=document.getElementById("search-availability"),l.featuredSelect=document.getElementById("search-featured"),l.resetSearchBtn=document.getElementById("reset-search-btn"),l.resultCount=document.getElementById("result-count"),l.featuredSection=document.getElementById("featured-profiles"),l.featuredContainer=document.getElementById("featured-profiles-container"),l.lightbox=document.getElementById("lightbox"),l.lightboxCloseBtn=document.getElementById("closeLightboxBtn"),l.lightboxWrapper=document.getElementById("lightbox-content-wrapper-el"),function(){const e=document.querySelectorAll(".theme-toggle-btn"),t=e=>{document.documentElement.classList.toggle("dark","dark"===e),localStorage.setItem(a.KEYS.THEME,e)},n=localStorage.getItem(a.KEYS.THEME)||"light";t(n),e.forEach((e=>e.onclick=()=>t(document.documentElement.classList.contains("dark")?"light":"dark")))}(),function(){const e=document.getElementById("menu-toggle"),t=document.getElementById("sidebar"),n=document.getElementById("menu-backdrop"),i=document.getElementById("close-sidebar-btn");if(!e||!t)return;const a=e=>{t.classList.toggle("translate-x-full",!e),t.classList.toggle("open",e),n?.classList.toggle("hidden",!e),document.body.style.overflow=e?"hidden":""};e.onclick=()=>a(!0),i.onclick=()=>a(!1),n.onclick=()=>a(!1)}(),function(){if(/googlebot|bingbot|yandexbot|duckduckbot|slurp|baiduspider|ia_archiver|facebookexternalhit|twitterbot|discordbot|linkedinbot|embedly|quora\ link\ preview|outbrain|pinterest\/0\.|vkShare|W3C_Validator/i.test(navigator.userAgent))return void console.log("üöÄ SEO Mode: Search Engine detected. Access granted without overlay.");const e=localStorage.getItem(a.KEYS.AGE_CONFIRMED);if(e&&Date.now()-parseInt(e)<36e5)return;const n=document.createElement("div");n.id="age-verification-overlay",n.style.cssText="position: fixed; inset: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; overflow: hidden;",n.innerHTML='\n        <div style="position: absolute; inset: 0; background-image: url(\'/images/placeholder-profile.webp\'); background-size: cover; background-position: center; filter: blur(30px); opacity: 0.3; transform: scale(1.1);"></div>\n        <div style="position: absolute; inset: 0; background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(15px);"></div>\n\n        <div style="position: relative; z-index: 10; width: 100%; max-width: 420px; margin: 16px;">\n            <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); backdrop-filter: blur(25px); border-radius: 32px; padding: 48px 32px; box-shadow: 0 40px 100px -20px rgba(0, 0, 0, 0.8); text-align: center; overflow: hidden; position: relative;">\n                \n                <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, transparent, #ec4899, #9333ea, transparent); opacity: 0.8;"></div>\n                \n                <div style="margin-bottom: 32px;">\n                    <p style="font-size: 12px; color: #ec4899; text-transform: uppercase; letter-spacing: 4px; font-weight: 800; margin-bottom: 8px;">Welcome To</p>\n                    <h1 style="font-size: 32px; font-weight: 900; color: #ffffff; margin-bottom: 20px; letter-spacing: -1px;">Sideline Chiangmai</h1>\n                    \n                    <div style="display: inline-flex; align-items: center; justify-content: center; width: 68px; height: 68px; border-radius: 9999px; background-color: rgba(236, 72, 153, 0.1); margin-bottom: 20px; border: 1px solid rgba(236, 72, 153, 0.4); box-shadow: 0 0 25px rgba(236, 72, 153, 0.2);">\n                        <span style="font-size: 22px; font-weight: 900; color: #ec4899;">20+</span>\n                    </div>\n                    \n                    <h2 style="font-size: 18px; font-weight: 700; color: #ffffff; margin-bottom: 12px;">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• (VIP ONLY)</h2>\n                    <p style="color: #9ca3af; font-size: 14px; line-height: 1.7;">\n                        ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏´‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà<br>\n                        <span style="color: #d1d5db;">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏≠‡∏≤‡∏¢‡∏∏ 20 ‡∏õ‡∏µ‡∏ö‡∏£‡∏¥‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°</span>\n                    </p>\n                </div>\n\n                <div style="display: flex; flex-direction: column; gap: 14px;">\n                    <button id="age-confirm" style="width: 100%; padding: 18px; background: linear-gradient(90deg, #ec4899, #9333ea); color: white; font-weight: 800; border-radius: 16px; border: none; cursor: pointer; font-size: 16px; box-shadow: 0 10px 20px -5px rgba(236, 72, 153, 0.5); transition: all 0.3s ease;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏≤‡∏¢‡∏∏ (ENTER SITE)</button>\n                    <button id="age-reject" style="width: 100%; padding: 10px; background: transparent; color: #6b7280; font-size: 13px; border-radius: 12px; border: none; cursor: pointer; opacity: 0.8; hover:opacity: 1;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå (Exit)</button>\n                </div>\n                \n                <p style="margin-top: 24px; font-size: 10px; color: #4b5563; text-transform: uppercase; letter-spacing: 1px;">Premium Entertainment ‚Ä¢ Chiang Mai Thailand</p>\n            </div>\n        </div>\n    ',document.body.appendChild(n),document.body.style.overflow="hidden";const i=n.querySelector('div[style*="background: rgba"]');window.gsap&&t.from(i,{scale:.9,opacity:0,duration:1.2,ease:"expo.out"});document.getElementById("age-confirm").onclick=()=>{localStorage.setItem(a.KEYS.AGE_CONFIRMED,Date.now()),window.gsap?t.to(n,{opacity:0,duration:.6,ease:"power2.inOut",onComplete:()=>{n.remove(),document.body.style.overflow=""}}):(n.remove(),document.body.style.overflow="")},document.getElementById("age-reject").onclick=()=>{window.location.href="https://google.com"}}(),function(){if(!l.pageHeader)return;let e=!1;window.addEventListener("scroll",(()=>{e||(window.requestAnimationFrame((()=>{l.pageHeader.classList.toggle("scrolled",window.scrollY>50),e=!1})),e=!0)}),{passive:!0})}(),function(){const e=document.querySelector(".social-marquee");if(!e)return;const t=e.parentElement;e.innerHTML+=e.innerHTML;let n=0,i=.5,a=!1;function o(){a||(n-=i,n<=-e.scrollWidth/2&&(n=0),e.style.transform=`translate3d(${n}px, 0, 0)`),requestAnimationFrame(o)}o(),t.addEventListener("mouseenter",(()=>a=!0)),t.addEventListener("mouseleave",(()=>a=!1))}(),function(){const e=document.createElement("div");Object.assign(e.style,{position:"fixed",bottom:"0",right:"0",width:"60px",height:"60px",zIndex:"99999",cursor:"pointer",background:"transparent",touchAction:"manipulation"}),document.body.appendChild(e);let t,n=0;e.addEventListener("click",(e=>{if(e.preventDefault(),n++,clearTimeout(t),t=setTimeout((()=>{n=0}),1500),n>=5){if(navigator.vibrate&&navigator.vibrate([100,50,100]),0===r.allProfiles.length)return alert("‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à"),void(n=0);if(confirm(`‚öôÔ∏è Admin Menu:\n‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ${r.allProfiles.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\n‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î sitemap.xml ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?`))try{!function(e,t){const n=new Blob([t],{type:"application/xml"}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=e,a.style.display="none",document.body.appendChild(a),a.click(),setTimeout((()=>{document.body.removeChild(a),URL.revokeObjectURL(i),alert("‚úÖ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!")}),100)}("sitemap.xml",function(){const e=a.SITE_URL.replace(/\/$/,""),t=[],n=t=>{const n=encodeURIComponent(t).replace(/%2F/g,"/");return`${e}/${n}`.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/>/g,"&gt;").replace(/</g,"&lt;")};t.push({loc:n(""),priority:"1.0",freq:"daily"}),r.allProfiles.forEach((e=>{if(e.slug){let i="";if(e.images&&e.images.length>0&&e.images[0].src){i=`\n        <image:image>\n            <image:loc>${e.images[0].src.replace(/&/g,"&amp;")}</image:loc>\n            <image:title>${e.name||"Profile Image"}</image:title>\n        </image:image>`}t.push({loc:n(`sideline/${e.slug.trim()}`),priority:"0.9",freq:"daily",imageXml:i})}})),r.provincesMap&&r.provincesMap.size>0&&r.provincesMap.forEach(((e,i)=>{t.push({loc:n(`location/${i}`),priority:"0.8",freq:"daily"})}));["blog.html","about.html","faq.html","profiles.html","locations.html"].forEach((e=>{t.push({loc:n(e),priority:"0.7",freq:"weekly"})}));return`<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"\n        xmlns:image="http://www.google.com/schemas/sitemap-image/1.1">\n${t.map((e=>`<url>\n            <loc>${e.loc}</loc>\n            <lastmod>${(new Date).toISOString()}</lastmod>\n            <changefreq>${e.freq}</changefreq>\n            <priority>${e.priority}</priority>${e.imageXml||""}\n        </url>`)).join("")}\n</urlset>`}())}catch(e){alert("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: "+e.message),console.error(e)}n=0}}))}(),async function(){const e=document.getElementById("popular-locations-footer");if(!e)return;let t=[];if(r.provincesMap&&r.provincesMap.size>0)r.provincesMap.forEach(((e,n)=>{t.push({key:n,name:e})}));else if(window.supabase)try{const{data:e}=await window.supabase.from("provinces").select("*");e&&(t=e.map((e=>({key:e.key||e.slug||e.id,name:e.nameThai||e.name_thai||e.name}))).filter((e=>e.key&&e.name)))}catch(e){console.warn("Footer load failed",e)}t.sort(((e,t)=>e.name.localeCompare(t.name,"th")));const n=e.querySelector(".animate-pulse");n&&n.parentElement.remove();const i=20;let a=e.querySelectorAll("li").length;if(t.forEach((t=>{if(!e.querySelector(`a[href*="/location/${t.key}"]`)&&a<i){const n=document.createElement("li");n.innerHTML=`<a href="/location/${t.key}" title="‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô${t.name} | Sideline Chiangmai" class="hover:text-pink-500 transition-colors">‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${t.name}</a>`,e.appendChild(n),a++}})),t.length>a&&!e.querySelector(".view-all-link")){const n=document.createElement("li");n.className="view-all-link",n.innerHTML=`<a href="/profiles.html" class="text-pink-500 font-bold hover:underline mt-2 inline-block">‡∏î‡∏π‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (${t.length})</a>`,e.appendChild(n)}}(),console.log("üëÇ Global Click Listener is now active."),document.body.addEventListener("click",(e=>{const t=e.target,n=t.closest('[data-action="like"]');if(n){e.preventDefault(),e.stopPropagation();const t=n.dataset.id;return void(t&&"function"==typeof window.handleLikeClick&&window.handleLikeClick(n,t))}const i=t.closest("a.card-link");if(i){e.preventDefault();const t=i.closest(".profile-card-new"),n=t?t.getAttribute("data-profile-slug"):null;return void(n&&(r.lastFocusedElement=t,history.pushState(null,"",`/sideline/${n}`),h()))}const a=t.closest("#closeLightboxBtn"),o=t.closest("#lightbox");(a||o&&e.target===o)&&(history.pushState(null,"","/"),h())})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&r.currentProfileSlug&&(history.pushState(null,"","/"),h())})),C(),await h(),await async function(){if(r.isFetching)return;!function(){let e=document.getElementById("global-loader-overlay");e||(!function(){if(document.getElementById("global-loader-overlay"))return;const e=document.createElement("style");e.innerHTML="\n        @keyframes heart-pulse-custom {\n            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 0px rgba(236, 72, 153, 0)); }\n            50% { transform: scale(1.15); filter: drop-shadow(0 0 20px rgba(236, 72, 153, 0.4)); }\n        }\n        .animate-heart-pulse { animation: heart-pulse-custom 1.2s infinite ease-in-out; }\n    ",document.head.appendChild(e);const t='\n        <div id="global-loader-overlay" \n             style="position: fixed; inset: 0; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; background-color: #0b0f19; transition: opacity 0.5s ease;" \n             class="dark:bg-gray-950">\n            \n            <div style="position: relative; width: 120px; height: 120px; display: flex; align-items: center; justify-content: center;">\n                <div style="position: absolute; inset: 0; border-radius: 9999px; border: 2px dashed rgba(236, 72, 153, 0.2);" class="animate-spin"></div>\n                <div style="position: absolute; inset: 5px; border-radius: 9999px; background-color: #ec4899; opacity: 0.15;" class="animate-ping"></div>\n                \n                <div style="position: relative; z-index: 10; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; border-radius: 9999px; background: linear-gradient(135deg, #ec4899 0%, #9333ea 100%); box-shadow: 0 10px 30px -5px rgba(236, 72, 153, 0.5);">\n                    <i class="fas fa-heart animate-heart-pulse" style="font-size: 34px; color: #ffffff;"></i>\n                </div>\n            </div>\n            \n            <div style="margin-top: 32px; text-align: center;">\n                <h3 style="font-size: 22px; font-weight: 900; color: #ffffff; letter-spacing: 0.2em; text-transform: uppercase; margin-bottom: 8px;">Sideline Chiangmai</h3>\n                <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">\n                    <p style="font-size: 13px; color: #ec4899; font-weight: 600; letter-spacing: 1px;">PREMIUM CURATED SELECTION</p>\n                    <div class="flex gap-1">\n                        <span class="w-1 h-1 bg-pink-500 rounded-full animate-bounce"></span>\n                        <span class="w-1 h-1 bg-pink-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></span>\n                        <span class="w-1 h-1 bg-pink-500 rounded-full animate-bounce" style="animation-delay: 0.4s"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ';document.body.insertAdjacentHTML("beforeend",t)}(),e=document.getElementById("global-loader-overlay"));t.set(e,{display:"flex",opacity:0}),t.to(e,{opacity:1,duration:.3,pointerEvents:"all"})}();try{await async function(){if(r.isFetching)return!1;if(r.isFetching=!0,!s)return r.isFetching=!1,!1;try{console.log("üîÑ Starting delta fetch...");const[e,t]=await Promise.all([s.from("provinces").select("*"),s.from("profiles").select("*").gt("created_at",r.lastFetchedAt).order("created_at",{ascending:!1})]);if(e.error)throw e.error;if(t.error)throw t.error;r.provincesMap.clear(),(e.data||[]).forEach((e=>{const t=e.nameThai||e.name_thai||e.thai_name||e.name||e.provinceName,n=e.key||e.slug||e.id;n&&t&&r.provincesMap.set(n.toString(),t)}));const n=t.data||[];if(console.log(`üìä Fetched ${n.length} new profiles`),n.length>0){const e=n.map(m).filter(Boolean);if(e.length>0){r.allProfiles=u(r.allProfiles,e);const t=n.map((e=>e.created_at)).filter(Boolean).sort().pop();t&&(r.lastFetchedAt=t)}}if(0===r.allProfiles.length){console.log("üîÑ No existing data, fetching all profiles...");const e=await s.from("profiles").select("*").order("created_at",{ascending:!1});if(e.error)throw e.error;if(e.data&&e.data.length>0){r.allProfiles=e.data.map(m).filter(Boolean);const t=e.data.map((e=>e.created_at)).filter(Boolean).sort().pop();t&&(r.lastFetchedAt=t)}}r.allProfiles.sort(((e,t)=>{const n=new Date(e.lastUpdated||e.created_at||0);return new Date(t.lastUpdated||t.created_at||0)-n})),g(),b(r.allProfiles,!1);try{localStorage.setItem(a.KEYS.CACHE_PROFILES,JSON.stringify(r.allProfiles)),localStorage.setItem(a.KEYS.LAST_FETCH,Date.now().toString())}catch(e){console.warn("Cache save failed:",e)}return r.isFetching=!1,!0}catch(e){console.error("‚ùå Fetch Delta Error:",e);try{const e=localStorage.getItem(a.KEYS.CACHE_PROFILES);if(e){const t=JSON.parse(e);return r.allProfiles=t.map(m).filter(Boolean),g(),b(r.allProfiles,!1),r.isFetching=!1,!0}}catch(e){console.error("‚ùå Cache fallback failed:",e)}return r.isFetching=!1,!1}}()?(!function(){if(!l.searchForm)return;const e={includeScore:!0,threshold:.35,ignoreLocation:!0,keys:[{name:"name",weight:1},{name:"provinceNameThai",weight:.9},{name:"provinceKey",weight:.8},{name:"styleTags",weight:.5},{name:"description",weight:.1},{name:"location",weight:.7},{name:"skinTone",weight:.6},{name:"stats",weight:.5},{name:"rate",weight:.4},{name:"availability",weight:.4}]};r.allProfiles.length>0&&(c=new i(r.allProfiles,e));const t=document.getElementById("clear-search-btn"),n=document.getElementById("search-suggestions");l.searchInput?.addEventListener("input",(e=>{const n=e.target.value;t&&t.classList.toggle("hidden",!n),f()})),t?.addEventListener("click",(()=>{l.searchInput.value="",t.classList.add("hidden"),l.searchInput.focus(),f()})),l.provinceSelect?.addEventListener("change",(()=>{l.searchInput&&(l.searchInput.value=""),history.pushState(null,"",l.provinceSelect.value?`/location/${l.provinceSelect.value}`:"/"),f(!0)})),l.availabilitySelect?.addEventListener("change",(()=>f(!0))),l.featuredSelect?.addEventListener("change",(()=>f(!0))),l.resetSearchBtn?.addEventListener("click",(()=>{l.searchInput.value="",l.provinceSelect.value="",l.availabilitySelect.value="",l.featuredSelect.value="",history.pushState(null,"","/"),f(!0)})),l.searchForm.addEventListener("submit",(e=>{e.preventDefault(),f(!0),n&&n.classList.add("hidden")}))}(),await h(!0),function(){if(!s)return;if(r.realtimeSubscription)try{s.removeChannel(r.realtimeSubscription)}catch(e){}try{console.log("üì° Starting realtime subscription...");const e=s.channel("profiles-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},(e=>{if(console.log("üîî Event:",e.eventType),"DELETE"!==e.eventType&&e.new){const t=m(e.new);t&&(r.allProfiles=u(r.allProfiles,[t]),b(r.allProfiles,!1))}else"DELETE"===e.eventType&&e.old&&(r.allProfiles=r.allProfiles.filter((t=>t.id!==e.old.id)),b(r.allProfiles,!1))})).subscribe();r.realtimeSubscription=e,Array.isArray(r.cleanupFunctions)||(r.cleanupFunctions=[]),r.cleanupFunctions.push((()=>{e&&s.removeChannel(e)}))}catch(e){console.warn("‚ö†Ô∏è Realtime failure:",e.message)}}(),l.fetchErrorMessage&&l.fetchErrorMessage.classList.add("hidden"),l.profilesDisplayArea&&l.profilesDisplayArea.classList.remove("hidden")):p("Data fetch returned false")}catch(e){p(e)}finally{T()}}();const n=document.getElementById("currentYearDynamic");n&&(n.textContent=(new Date).getFullYear());if(document.body.classList.add("loaded"),console.log("‚úÖ App Initialized Successfully!"),"/"===window.location.pathname&&!r.currentProfileSlug)try{const e=document.querySelectorAll("#hero-h1, #hero-p, #hero-form");e.length>0&&t.from(e,{y:20,opacity:0,duration:.6,stagger:.15,ease:"power2.out",delay:.3})}catch(e){console.warn("Animation skipped",e)}window.addEventListener("popstate",(async()=>{await h(),C()}))})),window.handleLikeClick=async function(e,t){console.log(`üëç Processing like for profile ID: ${t}`);const n=e.classList.toggle("liked"),i=e.querySelector(".like-count");if(i){let e=parseInt(i.textContent.replace(/,/g,"")||"0");i.textContent=n?e+1:Math.max(0,e-1)}try{const e=JSON.parse(localStorage.getItem(a.KEYS.LIKED_PROFILES)||"{}");n?e[t]=!0:delete e[t],localStorage.setItem(a.KEYS.LIKED_PROFILES,JSON.stringify(e))}catch(e){console.error("Local storage error:",e)}if(window.supabase)try{const e=n?"increment_likes":"decrement_likes",{error:i}=await window.supabase.rpc(e,{profile_id_to_update:t});i?console.error("‚ùå Supabase update failed:",i):console.log(`‚úÖ DB Updated: ${e}`)}catch(e){console.error("Connection error:",e)}},window.selectSuggestion=(e,t=!1)=>{const n=document.getElementById("search-suggestions"),i=document.getElementById("search-keyword");t?(n?.classList.add("hidden"),i&&(i.value="",document.getElementById("clear-search-btn")?.classList.add("hidden")),history.pushState(null,"",`/sideline/${e}`),h()):i&&(i.value=e,saveRecentSearch(e),f(!0),n?.classList.add("hidden"))};const w={styles:["‡∏ü‡∏¥‡∏ß‡πÅ‡∏ü‡∏ô‡πÅ‡∏ó‡πâ‡πÜ","‡∏á‡∏≤‡∏ô‡πÄ‡∏ô‡∏µ‡πä‡∏¢‡∏ö‡∏î‡∏π‡πÅ‡∏•‡∏î‡∏µ","‡∏™‡∏≤‡∏¢‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏™‡∏ô‡∏∏‡∏Å","‡πÄ‡∏≠‡∏≤‡πÉ‡∏à‡πÄ‡∏Å‡πà‡∏á‡∏™‡∏∏‡∏î‡πÜ","‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ô‡∏≤‡∏á‡πÅ‡∏ö‡∏ö","‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏µ‡πâ‡∏≠‡πâ‡∏≠‡∏ô","‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏ó‡∏ô","‡∏Ñ‡∏∏‡∏¢‡πÄ‡∏Å‡πà‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏î‡∏î‡πÅ‡∏≠‡∏£‡πå"],trust:["‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô","‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏°‡∏±‡∏î‡∏à‡∏≥‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤","‡πÑ‡∏°‡πà‡πÇ‡∏≠‡∏ô‡∏à‡∏≠‡∏á","‡∏à‡πà‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô 100%","‡∏ô‡∏±‡∏î‡πÄ‡∏à‡∏≠‡∏à‡πà‡∏≤‡∏¢‡∏™‡∏î","‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÑ‡∏£‡πâ‡∏Å‡∏±‡∏á‡∏ß‡∏•"],guarantee:["‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡∏ï‡∏£‡∏á‡∏£‡∏π‡∏õ 100%","‡∏£‡∏π‡∏õ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏à‡∏Å‡∏ï‡∏≤","‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢","‡∏ï‡∏£‡∏á‡∏õ‡∏Å‡πÑ‡∏°‡πà‡∏ú‡∏¥‡∏î‡∏´‡∏ß‡∏±‡∏á","‡∏Ñ‡∏±‡∏î‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û","‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á‡∏õ‡∏Å"],pick:function(e){return this[e][Math.floor(Math.random()*this[e].length)]}};function E(e=null,t=null){const n=window.location.pathname.toLowerCase();if(!(e||t)&&!("/"===n||""===n||"/index.html"===n))return;document.querySelectorAll('script[id^="schema-jsonld"]').forEach((e=>e.remove()));const i=(new Date).getFullYear()+543,o=new Date,r=`${o.getDate()} ${["‡∏°.‡∏Ñ.","‡∏Å.‡∏û.","‡∏°‡∏µ.‡∏Ñ.","‡πÄ‡∏°.‡∏¢.","‡∏û.‡∏Ñ.","‡∏°‡∏¥.‡∏¢.","‡∏Å.‡∏Ñ.","‡∏™.‡∏Ñ.","‡∏Å.‡∏¢.","‡∏ï.‡∏Ñ.","‡∏û.‡∏¢.","‡∏ò.‡∏Ñ."][o.getMonth()]} ${i}`;if(e){const t=(e=>{if(!e)return"";let t=e.trim().replace(/^(‡∏ô‡πâ‡∏≠‡∏á\s?)/,"");return t=t.toLowerCase(),`‡∏ô‡πâ‡∏≠‡∏á${t.charAt(0).toUpperCase()+t.slice(1)}`})(e.name),n=e.provinceNameThai||"‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",o=e.rate?`‡∏£‡∏≤‡∏Ñ‡∏≤ ${e.rate}`:"‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤",l=e.location?`${e.location}, ${n}`:n;let s=[];e.stats&&s.push(`‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô ${e.stats}`),e.age&&s.push(`‡∏≠‡∏≤‡∏¢‡∏∏ ${e.age}`);const c=s.join(". "),d=w.pick("trust"),p=w.pick("guarantee"),u=`${t} ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${n} | ${p} ${d} (${i})`,m=`‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå ${t} ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ${l}. ${o}. ${c}. ${p} ‡πÅ‡∏•‡∏∞ ${d} 100%. ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô. ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°, ‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏µ‡∏ß‡∏¥‡∏ß ‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏î‡πÑ‡∏•‡∏ô‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ. (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï ${r})`,g=[t,`‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${n}`,`‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${n}`,`‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô${n}`,e.location,o,d,p].filter(Boolean).join(", ");document.title=u,$("description",m),$("keywords",g),I("canonical",`${a.SITE_URL}/sideline/${e.slug||e.id}`),S(e,u,m,"profile"),L(function(e,t,n){const i=(e.rate||"0").toString().replace(/\D/g,"");let o=(e.name||"").replace(/^‡∏ô‡πâ‡∏≠‡∏á/,"").trim();return{"@context":"https://schema.org","@type":"Person","@id":`${a.SITE_URL}/sideline/${e.slug}`,name:`‡∏ô‡πâ‡∏≠‡∏á${o}`,url:`${a.SITE_URL}/sideline/${e.slug}`,image:e.images&&e.images[0]?e.images[0].src:a.DEFAULT_OG_IMAGE,description:t,jobTitle:"Freelance Model",gender:"Female",address:{"@type":"PostalAddress",addressLocality:n,addressRegion:"Thailand",addressCountry:"TH"},offers:{"@type":"Offer",price:i,priceCurrency:"THB",availability:e.availability?.includes("‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á")?"https://schema.org/SoldOut":"https://schema.org/InStock",description:"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏°‡∏±‡∏î‡∏à‡∏≥ (Cash on arrival only)"},additionalProperty:[{"@type":"PropertyValue",name:"Age",value:e.age},{"@type":"PropertyValue",name:"Stats",value:e.stats},{"@type":"PropertyValue",name:"Height",value:e.height},{"@type":"PropertyValue",name:"SkinTone",value:e.skinTone}]}}(e,m,n),"schema-jsonld-person"),L(k("profile",t),"schema-jsonld-breadcrumb")}else if(t){const e=t.provinceName||"‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà",n=t.profiles?t.profiles.length:"‡∏´‡∏•‡∏≤‡∏¢",o=w.pick("trust"),l=`‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${e} ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏á ${o} | ‡∏£‡∏ß‡∏°‡∏£‡∏π‡∏õ‡∏ô‡πâ‡∏≠‡∏á‡πÜ ${e} ‡∏ï‡∏£‡∏á‡∏õ‡∏Å (${i})`,s=`‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≠‡∏á‡πÜ ‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${e} ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏á ‡∏û‡∏¥‡∏Å‡∏±‡∏î${e} ‡∏Å‡∏ß‡πà‡∏≤ ${n} ‡∏Ñ‡∏ô. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏£‡∏π‡∏õ‡∏ï‡∏£‡∏á‡∏õ‡∏Å ${w.pick("guarantee")}. ${o} ‡∏ô‡∏±‡∏î‡πÄ‡∏à‡∏≠‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ${r}.`;document.title=l,$("description",s),$("keywords",`‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå${e}, ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô${e}, ‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏≠‡πá‡∏ô${e}, ${e} ‡πÑ‡∏°‡πà‡∏°‡∏±‡∏î‡∏à‡∏≥`),I("canonical",t.canonicalUrl||window.location.href),S(null,l,s,"website"),L(function(e){return e&&e.profiles&&0!==e.profiles.length?{"@context":"https://schema.org","@type":"ItemList",name:`‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ${e.provinceName}`,description:e.description,numberOfItems:e.profiles.length,itemListElement:e.profiles.map(((e,t)=>({"@type":"ListItem",position:t+1,item:{"@type":"Person",name:e.name,url:`${a.SITE_URL}/sideline/${e.slug}`,image:e.images&&e.images.length>0?e.images[0].src:a.DEFAULT_OG_IMAGE}})))}:null}(t),"schema-jsonld-list"),L(k("location",e),"schema-jsonld-breadcrumb")}else{if("/"!==n&&""!==n&&"/index.html"!==n)return;const e=`Sideline Chiangmai - ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏ó‡∏¢ ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÄ‡∏≠‡∏á ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡πÄ‡∏¢‡πà‡∏ô‡∏ï‡πå (${i})`,t="‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡∏£‡∏ß‡∏°‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®. ‡∏Ñ‡∏±‡∏î‡πÄ‡∏ô‡πâ‡∏ô‡πÜ ‡∏™‡∏ß‡∏¢‡∏ï‡∏£‡∏á‡∏õ‡∏Å 100%. ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡∏°‡∏±‡∏î‡∏à‡∏≥ (No Deposit). ‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏£‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô";document.title=e,$("description",t),$("keywords","‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà, ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå, ‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏°‡πà‡∏°‡∏±‡∏î‡∏à‡∏≥, ‡∏ï‡∏£‡∏á‡∏õ‡∏Å"),I("canonical",a.SITE_URL),S(null,e,t,"website"),L({"@context":"https://schema.org","@type":"WebSite",url:a.SITE_URL,name:"Sideline Chiangmai",description:"‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏ô‡πâ‡∏≠‡∏á‡πÜ ‡πÑ‡∏ã‡∏î‡πå‡πÑ‡∏•‡∏ô‡πå ‡∏ü‡∏¥‡∏ß‡πÅ‡∏ü‡∏ô ‡∏ï‡∏£‡∏á‡∏õ‡∏Å 100% ‡πÑ‡∏°‡πà‡∏°‡∏±‡∏î‡∏à‡∏≥",potentialAction:{"@type":"SearchAction",target:`${a.SITE_URL}/?q={search_term_string}`,"query-input":"required name=search_term_string"}},"schema-jsonld-web"),L({"@context":"https://schema.org","@type":"Organization",name:"Sideline Chiangmai",url:a.SITE_URL,logo:"https://sidelinechiangmai.netlify.app/images/sidelinechiangmai-social-preview.webp",contactPoint:{"@type":"ContactPoint",contactType:"customer service",description:"‡∏°‡∏µ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏ü‡∏£‡∏µ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£"}},"schema-jsonld-org");L((l=[{question:"‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡∏°‡∏±‡∏î‡∏à‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏°?",answer:"‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞! ‡πÄ‡∏£‡∏≤‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏±‡∏î‡πÄ‡∏à‡∏≠‡πÅ‡∏•‡∏∞‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á‡πÜ ‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á 100% ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏∞"},{question:"‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á‡∏õ‡∏Å‡πÑ‡∏´‡∏°?",answer:"‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏≤‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á‡∏õ‡∏Å ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô‡∏£‡∏π‡∏õ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏Ñ‡πà‡∏∞"}])&&0!==l.length?{"@context":"https://schema.org","@type":"FAQPage",mainEntity:l.map((e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}})))}:null,"schema-jsonld-faq")}var l}function S(e,t,n,i){$("og:title",t),$("og:description",n),$("og:url",e?`${a.SITE_URL}/sideline/${e.slug}`:a.SITE_URL),$("og:type",i),$("og:locale","th_TH");let o=e&&e.images&&e.images[0]?e.images[0].src:a.DEFAULT_OG_IMAGE;$("og:image",o),$("twitter:card","summary_large_image"),$("twitter:title",t),$("twitter:description",n),$("twitter:image",o)}function k(e,t){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å",item:a.SITE_URL},{"@type":"ListItem",position:2,name:"location"===e?`‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ${t}`:t,item:"location"===e?`${a.SITE_URL}/location/${encodeURIComponent(t)}`:void 0}]}}function L(e,t="schema-jsonld"){if(!e)return;const n=document.createElement("script");n.type="application/ld+json",n.id=t,n.textContent=JSON.stringify(e),document.head.appendChild(n)}function $(e,t){let n=document.querySelector(`meta[name="${e}"], meta[property="${e}"]`);n||(n=document.createElement("meta"),e.startsWith("og:")?n.setAttribute("property",e):n.name=e,document.head.appendChild(n)),n.content=t}function I(e,t){let n=document.querySelector(`link[rel="${e}"]`);n||(n=document.createElement("link"),n.rel=e,document.head.appendChild(n)),n.href=t}function C(){const e=window.location.pathname;document.querySelectorAll("nav a").forEach((t=>{const n=t.getAttribute("href")===e;t.classList.toggle("text-pink-600",n),t.classList.toggle("font-bold",n),n&&t.setAttribute("aria-current","page")}))}function T(){const e=document.getElementById("global-loader-overlay");if(e)try{t.to(e,{opacity:0,scale:1.05,duration:.6,ease:"expo.inOut",onComplete:()=>{e.style.display="none",t.set(e,{scale:1}),window.ScrollTrigger&&n.refresh()}})}catch(t){console.error("GSAP failed, hiding loader manually.",t),e.style.display="none"}void 0!==l&&l.loadingPlaceholder&&(l.loadingPlaceholder.style.display="none")}function p(e){console.error("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏£‡∏á:",e),T();const t=document.getElementById("profiles-display-area");t&&(t.innerHTML='\n                <div style="text-align: center; padding: 40px; color: #ef4444;">\n                    <i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 16px;"></i>\n                    <h3 style="font-size: 20px; font-weight: bold;">‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h3>\n                    <p style="margin-top: 8px; color: #374151;">‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ<br>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>\n                    <button onclick="window.location.reload()" style="margin-top: 20px; padding: 10px 24px; background-color: #ec4899; color: white; border-radius: 99px; border: none; cursor: pointer; font-weight: bold;">\n                        <i class="fas fa-sync-alt mr-2"></i> ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà\n                    </button>\n                </div>\n            ')}const A=(new Date).toLocaleDateString("th-TH",{day:"numeric",month:"short",year:"numeric"}),M=document.getElementById("last-updated-time");M&&(M.innerText=A)}();