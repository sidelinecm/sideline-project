/* ==========================================================================
   /styles.css - v29.1 "TAILWIND NATIVE" (Guaranteed Build Success)
   - CSS variables are defined here for both light and dark modes.
   - Tailwind's config reads these variables to generate all utility classes.
   - This is the most robust and standard way to work with Tailwind CSS.
   ========================================================================== */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* --- Base Font Loading --- */
  @font-face { font-family: 'Prompt'; font-style: normal; font-weight: 400; src: url('/fonts/prompt-v11-latin_thai-regular.woff2') format('woff2'); font-display: swap; }
  @font-face { font-family: 'Prompt'; font-style: normal; font-weight: 700; src: url('/fonts/prompt-v11-latin_thai-700.woff2') format('woff2'); font-display: swap; }
  @font-face { font-family: 'Prompt'; font-style: normal; font-weight: 800; src: url('/fonts/prompt-v11-latin_thai-800.woff2') format('woff2'); font-display: swap; }

  /* --- CSS Variables for Tailwind Config --- */
  :root {
    /* Light Mode Variables */
    --background: 220 30% 98%; --foreground: 220 15% 25%;
    --card: 0 0% 100%; --card-foreground: 220 15% 25%;
    --muted: 220 30% 96%; --muted-foreground: 220 10% 45%;
    --accent: 220 60% 96%; --accent-foreground: 220 15% 25%;
    --border: 220 20% 92%;
    --radius: 1rem;

    /* Universal Colors */
    --primary: 340 85% 58%; --primary-foreground: 340 85% 98%; --primary-glow: 340 85% 65%;
    --secondary: 260 85% 65%; --secondary-foreground: 260 85% 98%; --secondary-glow: 260 85% 70%;
    --destructive: 0 84% 60%; --destructive-foreground: 0 84% 98%;
  }

  .dark {
    /* Dark Mode Variables */
    --background: 225 15% 10%; --foreground: 220 20% 90%;
    --card: 225 15% 16%; --card-foreground: 220 20% 90%;
    --muted: 225 15% 20%; --muted-foreground: 220 10% 60%;
    --accent: 225 15% 20%; --accent-foreground: 220 20% 90%;
    --border: 225 12% 25%;
  }

  /* --- Base Body & Aurora Background --- */
  body {
    @apply bg-background text-foreground;
  }
  
  body::before, body::after {
    content: ''; @apply fixed top-1/2 left-1/2 w-[150vmax] h-[150vmax] rounded-full -z-10 blur-3xl pointer-events-none;
  }
  html:not(.dark) body::before { @apply bg-[radial-gradient(circle,hsl(var(--primary))_0%,transparent_40%)] opacity-10 animate-aurora-1; }
  html:not(.dark) body::after { @apply bg-[radial-gradient(circle,hsl(var(--secondary))_0%,transparent_40%)] opacity-10 animate-aurora-2; }
  html.dark body::before { @apply bg-[radial-gradient(circle,hsl(var(--primary-glow))_0%,transparent_40%)] opacity-20 animate-aurora-1; }
  html.dark body::after { @apply bg-[radial-gradient(circle,hsl(var(--secondary-glow))_0%,transparent_40%)] opacity-10 animate-aurora-2; }

  .text-glow { @apply text-primary-glow; text-shadow: 0 0 15px hsl(var(--primary-glow) / 0.6), 0 0 3px hsl(var(--primary-glow) / 0.8); }
}

@layer components {
  /* --- Preloader & Initial State --- */
  .preloader { @apply fixed inset-0 z-[9999] bg-background flex items-center justify-center transition-all duration-500 ease-in-out; }
  .preloader-spinner { @apply w-12 h-12 border-4 border-border border-t-primary rounded-full animate-spin; }
  .preloader.loaded { @apply opacity-0 invisible; }
  body.init > *:not(#preloader) { @apply opacity-0 transition-opacity duration-500 ease-in-out; }
  body.ready > *:not(#preloader) { @apply opacity-100; }
  
  /* --- General UI Components --- */
  .container { @apply w-full max-w-7xl; }
  .btn-primary { @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 bg-primary text-primary-foreground rounded-full hover:opacity-90 transition text-sm font-semibold shadow-lg shadow-primary/20 hover:shadow-xl hover:shadow-primary/30; }
  .btn-icon { @apply w-10 h-10 flex items-center justify-center rounded-full transition-colors hover:bg-accent; }
  .nav-link { @apply px-4 py-2 rounded-full transition-colors hover:bg-accent; }
  .skip-link { @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 z-50 focus:px-4 focus:py-2 focus:bg-card focus:rounded-lg focus:shadow-lg; }
  
  /* --- Header & Sidebar --- */
  #page-header.scrolled { @apply bg-background/80 backdrop-blur-lg shadow-sm border-b border-border; }
  #menu-backdrop { @apply bg-black/60; }
  #sidebar { @apply bg-background/90 backdrop-blur-xl border-l border-border text-foreground; }
  #sidebar .border-b, #sidebar .border-t { @apply border-border; }
  .sidebar-link { @apply flex items-center gap-4 py-3 px-4 font-medium text-base rounded-lg hover:bg-accent; }
  .sidebar-icon { @apply w-5 text-center text-muted-foreground; }
  .btn-line-shared { @apply w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-lg text-white font-bold bg-green-500 hover:bg-green-600 transition-colors; }

  /* --- Age Verification Modal --- */
  .age-modal-content { @apply bg-gradient-to-br from-card/90 to-background/90 border border-white/10 text-white rounded-2xl shadow-2xl p-8 max-w-sm w-full text-center; }
  
  /* --- Search Form --- */
  .filter-input-wrapper { @apply relative flex items-center; }
  .filter-icon { @apply absolute left-4 text-muted-foreground/50 pointer-events-none; }
  .filter-input { @apply w-full pl-10 pr-4 py-3 bg-card border border-border rounded-full focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 transition; }
  .form-checkbox { @apply h-5 w-5 rounded text-primary bg-card border-border focus:ring-primary/50; }

  /* --- Profile Cards & Sections --- */
  .profile-grid { @apply grid grid-cols-2 gap-x-3.5 gap-y-5 sm:gap-x-4 sm:gap-y-6 md:grid-cols-3 lg:grid-cols-4; }
  .featured-header, .province-section-header { @apply pb-4 mb-4 border-b border-border; }
  .province-section-header { @apply flex justify-between items-baseline; }
  .profile-card-new { @apply bg-card rounded-2xl overflow-hidden relative aspect-[3/4] transition-transform duration-500 ease-out; transform-style: preserve-3d; box-shadow: 0 10px 30px -10px hsl(var(--foreground-light) / 0.15); }
  html.dark .profile-card-new { box-shadow: 0 10px 30px -10px hsl(var(--background-dark) / 0.5); }
  
  /* --- Lightbox --- */
  .modal-content { @apply bg-card rounded-2xl shadow-2xl border border-border; }
  
  /* --- States (Error, Empty) --- */
  .error-state-container { @apply bg-destructive/10 text-destructive rounded-lg p-8 text-center; }
  .empty-state-container { @apply bg-secondary/10 text-secondary-foreground rounded-lg p-8 text-center; }
}
