# =====================================
# üèóÔ∏è  Netlify Build Configuration
# =====================================
[build]
  publish = "."          # ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏ß‡πá‡∏ö (root)
  command = ""           # ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á build (‡πÄ‡∏ß‡πá‡∏ö static)
  environment = { NODE_VERSION = "18" }

# =====================================
# ‚öôÔ∏è  Global HTTP Security Headers
# =====================================
[[headers]]
  for = "/*"
  [headers.values]
    X-Content-Type-Options = "nosniff"
    X-Frame-Options = "SAMEORIGIN"
    X-XSS-Protection = "1; mode=block"
    Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "geolocation=(), microphone=(), camera=()"

# =====================================
# üï∏Ô∏è  HTML Pages
# =====================================
[[headers]]
  for = "*.html"
  [headers.values]
    cache-control = "public, max-age=600, must-revalidate"

# =====================================
# üß†  Manifest / Sitemap / Robots
# =====================================
[[headers]]
  for = "/manifest.webmanifest"
  [headers.values]
    cache-control = "public, max-age=86400, must-revalidate"

[[headers]]
  for = "/sitemap.xml"
  [headers.values]
    cache-control = "public, max-age=86400, must-revalidate"

[[headers]]
  for = "/robots.txt"
  [headers.values]
    cache-control = "public, max-age=86400, must-revalidate"

# =====================================
# üñºÔ∏è  Static Assets (CSS / JS / Images)
# =====================================
[[headers]]
  for = "/images/*"
  [headers.values]
    cache-control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/js/*"
  [headers.values]
    cache-control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/css/*"
  [headers.values]
    cache-control = "public, max-age=31536000, immutable"

# =====================================
# ‚ö°  Performance
# =====================================
[[headers]]
  for = "/*"
  [headers.values]
    vary = "Accept-Encoding"
    Cache-Control = "public"

# =====================================
# Redirect ‡∏ó‡∏∏‡∏Å URL ‡πÑ‡∏õ‡∏¢‡∏±‡∏á index.html ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö SPA
# =====================================
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Error Page ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÉ‡∏´‡πâ redirect ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
[[redirects]]
  from = "/404.html"
  to = "/index.html"
  status = 404

[[redirects]]
  from = "/502.html"
  to = "/index.html"
  status = 502

[[redirects]]
  from = "/503.html"
  to = "/index.html"
  status = 503

[[redirects]]
  from = "/504.html"
  to = "/index.html"
  status = 504

# ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö error ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 500
